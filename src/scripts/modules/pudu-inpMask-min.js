"use strict";function pudu_inpMask(){window.addEventListener("DOMContentLoaded",function(){for(var e,t,a=document.getElementsByClassName("pudu-inpMask"),n=0;n<a.length;n++){if(e=a[n].getAttribute("data-mask"),!(t=r[e]))throw"Incorrect mask name: "+e;t.underscore?a[n].value=t.pattern:a[n].value=t.pattern.replace(/_/g," "),a[n].addEventListener("focus",function(){_(this)}),a[n].addEventListener("input",function(){l(this,event)})}});var s,o,r={phone_ru:{pattern:"+7(___)___-__-__",allowedChars:/[0-9]/,underscore:!1},date_1:{pattern:"__.__.____",allowedChars:/[0-9]/,underscore:!0},date_2:{pattern:"__/__/____",allowedChars:/[0-9]/,underscore:!0},credit_card:{pattern:"____ ____ ____ ____",allowedChars:/[0-9]/,underscore:!1}};function _(e){s=r[e.getAttribute("data-mask")],o=e.value;for(var t=s.underscore?"_":" ",a=0;a<o.length;a++)if("_"==s.pattern.charAt(a)&&o.charAt(a)==t){setTimeout(function(){e.setSelectionRange(a,a)},0);break}}function l(e,t){if(null==t.data)if("_"!=s.pattern.charAt(e.selectionStart)){for(var a=s.pattern,n=(r=e.selectionStart)+1;0<=r&&"_"!=a.charAt(r);)r--;r<0?(e.value=o,e.setSelectionRange(n,n)):(o=o.setCharAt(r,s.underscore?"_":" "),e.value=o,e.setSelectionRange(r,r))}else{var r=e.selectionStart;o=o.setCharAt(r,s.underscore?"_":" "),e.value=o,e.setSelectionRange(r,r)}else if(s.allowedChars.test(t.data)){for(r=e.selectionStart-1,a=s.pattern;r<a.length&&"_"!=a.charAt(r);)r++;r<a.length?(o=o.setCharAt(r,t.data),e.value=o,e.setSelectionRange(r+1,r+1)):e.value=o}else{var _=e.selectionStart-1;e.value=o,e.setSelectionRange(_,_)}}}pudu_inpMask();